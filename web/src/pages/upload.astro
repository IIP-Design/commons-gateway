---
import Button from '../components/Button.astro';
import PageLayout from '../layouts/PageLayout.astro';
---

<script>
  import { dragHandler, dropHandler } from '../utils/files';

  // Handle drag-and-drop zone.
  const dropZone = document.getElementById('drop-zone');

  dropZone?.addEventListener('dragenter', (e) => dragHandler(e));
  dropZone?.addEventListener('dragover', (e) => dragHandler(e));
  dropZone?.addEventListener('drop', (e) => dropHandler(e));

  // Handle submit button.
  const sumbitButton = document.getElementById('upload-files-btn');

  sumbitButton?.addEventListener('click', () => console.log('Clicked'));
</script>

<PageLayout narrow title="Submit Files">
  <p class="section-header"><strong>Upload video or photo files <span>*</span></strong></p>
  <div class="drop-zone" id="drop-zone">
    <strong>drag and drop files</strong>
    <ul class="file-list" id="file-list"></ul>
  </div>
  <p class="section-header"><strong>Description <span>*</span></strong></p>
  <p>Include a point of contact email in case questions arise.</p>
  <textarea></textarea>
  <Button id="upload-files-btn" type="submit">Submit</Button>
</PageLayout>

<style>
  p,
  strong {
    color: var(--blue);
  }
  span {
    color: var(--red);
  }
  textarea {
    border: 1px solid var(--greyLight);
    border-radius: 5px;
    padding: 1rem;
    width: calc(100% - (2rem + 2px));
    margin-bottom: 2rem;
  }
  .drop-zone {
    background-color: var(--greyLighter);
    border: 2px dotted var(--greyLight);
    border-radius: 5px;
    padding: 2rem;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
  }
  .section-header {
    margin-top: 2rem;
  }
  .file-list {
    list-style: none;
    padding: 0;
  }
</style>
